<div class="container-fluid">
   
    <div class="row" style="height: 120px" > 
    </div>
    <div class="row" > 
        <div id="silverfox" class="col-lg-9 col-md-9 col-sm-12 col-xs-12   " >
            <div class="col-12 rounded" style="background-color: white; margin-right: 5px; box-shadow: 0 4px 4px #ccc; -webkit-box-shadow: 0 4px 4px #ccc;">
                <form [formGroup]="orderForm" (ngSubmit)="onSubmit()" >     
                    <div class="row" style="height: 20px" > 
                    </div> 
                    <div class="row">
                        <div class="col-12">
                            <h3 class="text-center mb-4">Complete your booking</h3>
                        </div> 
                    </div>
                    <div class="row">
                        <div class="col-12 separator-line"></div>
                        <div class="col-12">
                            <h4 class="">Address</h4>
                        </div>
                    </div>   
                    <div class="row">
                        <div class="col-6">
                            <mat-form-field class="my-form-field">     
                                <input matInput placeholder="Street address" required formControlName="address" class="form-control"  [ngClass]="{ 'is-invalid': submitted && f.address.errors }">
                                <div *ngIf="submitted && f.address.errors" class="invalid-feedback">
                                    <div *ngIf="f.address.errors.required">Street address is required</div>
                                </div>
                            </mat-form-field>
                        </div>
                        <div class="col-6">
                            <mat-form-field class="my-form-field">     
                                <input matInput placeholder="Apt/Unit No." formControlName="apto"  class="form-control">
                            </mat-form-field>
                        </div>    
                    </div> 
                    <div class="row">
                        <div class="col-6">
                            <mat-form-field class="my-form-field">     
                                <input matInput placeholder="Suburb" formControlName="suburb" required class="form-control"  [ngClass]="{ 'is-invalid': submitted && f.suburb.errors }">
                                <div *ngIf="submitted && f.suburb.errors" class="invalid-feedback">
                                    <div *ngIf="f.suburb.errors.required">Suburb is required</div>
                                </div>

                            </mat-form-field>        
                        </div>
                        <div class="col-6">
                            <mat-form-field class="my-form-field">
                                <mat-select placeholder="City" [(ngModel)]="selectedValueCity" [ngModelOptions]="{standalone: true}" required class="form-control" [ngClass]="{ 'is-invalid': submitted && selectedValueCity == ''}">
                                    <mat-option *ngFor="let city of cities" [value]="city.value">
                                    {{city.view}}
                                    </mat-option>
                                </mat-select>
                                <div *ngIf="submitted && selectedValueCity == ''" class="invalid-feedback">
                                    <div *ngIf="submitted && selectedValueCity == ''">City is required</div>
                                </div> {{selectedValueHour}}
                            </mat-form-field>                            
                        </div>
                    </div> 
                    <div class="row">
                        <div class="col-6">
                            <mat-form-field class="my-form-field">     
                                <input matInput placeholder="Zip code" required formControlName="zipCode" class="form-control"  [ngClass]="{ 'is-invalid': submitted && f.zipCode.errors }">
                                <div *ngIf="submitted && f.zipCode.errors" class="invalid-feedback">
                                    <div *ngIf="f.zipCode.errors.required">Zip code is required</div>
                                </div>
                            </mat-form-field>     
                        </div>
                        <div class="col-6">
                              
                        </div>
                    </div> 
                    <div class="row">
                        <div class="col-12 separator-line"></div>  
                        <div class="col-12">
                            <h4 class="">Date</h4>
                        </div> 
                    </div> 
                    <div class="row">
                        <div class="col-6">
                                <mat-form-field class="my-form-field">    
                                    <input matInput [matDatepicker]="picker" required placeholder="Choose a date" formControlName="dateorder" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.dateorder.errors }">
                                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                    <mat-datepicker #picker></mat-datepicker>
                                    <div *ngIf="submitted && f.dateorder.errors" class="invalid-feedback">
                                        <div *ngIf="f.dateorder.errors.required">Date is required</div>
                                    </div>
                                </mat-form-field>
                        </div>    
                        <div class="col-6">   
                            <mat-form-field class="my-form-field">  
                                <mat-select placeholder="Hour" required [(ngModel)]="selectedValueHour" [ngModelOptions]="{standalone: true}" class="form-control" [ngClass]="{ 'is-invalid': submitted && selectedValueHour == '' }">
                                    <mat-option *ngFor="let item2 of hours" [value]="item2.value">
                                    {{item2.view}}
                                    </mat-option>
                                </mat-select>
                                <div *ngIf="submitted && selectedValueHour == ''" class="invalid-feedback">
                                    <div *ngIf="submitted && selectedValueHour == ''">Hour is required</div>
                                </div>   
                            </mat-form-field>
                                                               
                        </div>      
                    </div>  
                    <div class="row">
                            <div class="col-12 separator-line"></div>
                            <div class="col-12">
                                <h4 class="">Contact</h4>
                            </div>
                        </div>  
                    <div class="row">                                                    
                        <div class="col-6" >                                                          
                                <mat-form-field  class="my-form-field" style="width: 100%;">
                                        <input matInput placeholder="Email ID" required formControlName="email" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.email.errors }">
                                        <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
                                            <div *ngIf="f.email.errors.required">Email is required</div>
                                            <div *ngIf="f.email.errors.email">Invalid email</div>
                                        </div>
                                    </mat-form-field>                              
                        </div>   
                        <div class="col-6">                             
                                <mat-form-field class="my-form-field">
                                    <input matInput placeholder="Phone number" required formControlName="phonenumber" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.phonenumber.errors }">
                                    <div *ngIf="submitted && f.phonenumber.errors" class="invalid-feedback">
                                        <div *ngIf="f.phonenumber.errors.required">Phone number is required</div>
                                    </div>
                                </mat-form-field>
                            </div>                           
                    </div>  
                    <div class="row">
                        <div class="col-12 separator-line"></div>
                        <div class="col-12">
                            <h4 class="">Service</h4>
                        </div>
                    </div> 
                    <div class="row">
                        <div class="col-12">
                                <mat-form-field class="my-form-field"> 
                                    <mat-select placeholder="Service" required [(ngModel)]="selectedValueService" [ngModelOptions]="{standalone: true}" class="form-control" [ngClass]="{ 'is-invalid': submitted && !selectedValueService.id}">
                                        <mat-option *ngFor="let opt of products" [value]="opt">
                                        {{opt.name}}
                                        </mat-option>
                                    </mat-select>
                                    <div *ngIf="submitted && !selectedValueService.id" class="invalid-feedback">
                                        <div *ngIf="submitted && !selectedValueService.id">Service is required</div>
                                    </div>
                                </mat-form-field>
                        </div>
                        
                    </div> 
                    <div class="row ">
                            <div class="col-12 separator-line"></div>
                        <div class="col-12 text-center">
                            <button [disabled]="loading" class="btn btn-success" style="width: 100%; font-size:22px">Create Order</button>
                            <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
                        </div>
                        <div class="col-12 separator-line"></div>
                        <div class="col-12">&nbsp;</div>
                    </div>   
                </form>                     
            </div>    
        </div>
        <div class="col-lg-3 col-md-3 col-sm-12 col-xs-12" >
            <div class="row rounded panel-left card sticky-top" > 
                    <div class="col-12">
                        <mat-icon style="top: 5px; position: relative;">home</mat-icon>Cleaning Plan
                    </div>
                    <div class="col-12 separator-line"></div>
                    <div class="col-12">
                        <mat-icon style="top: 5px; position: relative;">assistant</mat-icon>{{orderForm.value.dateorder | date : "MMMM d, y"}} - {{selectedValueHour}}
                    </div>
                    <div class="col-12">
                            <mat-icon style="top: 5px; position: relative;" >access_alarm</mat-icon>{{selectedValueService.nHours}} hours
                            
                    </div>
                    <div class="col-12 separator-line"></div>
                    <div class="col-12">
                            Total:  ${{selectedValueService.total}}
                    </div>
               
                     
            </div>  
                    
                
        </div>     
    </div>   
 
</div>
